<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì‘ê°€ ë¦¬ìŠ¤íŠ¸</title>
    <link href="https://fonts.googleapis.com/css2?family=Black+Han+Sans&family=Gugi&display=swap" rel="stylesheet">
    <style>
       :root {
    --img-bill: url('tape.png');
    --shadow-color: rgba(0, 0, 0, 0.4);
    --border-radius: 10px;
    --peel-duration: 0.6s;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    background-color: #06152f;
    color: white;
    margin: 0;
    padding: 60px 0 120px;   /* ğŸ”¥ ìœ„Â·ì•„ë˜ ì—¬ë°± í¬ê²Œ */
    display: flex;
    flex-direction: column;
    align-items: center;
    font-family: 'Black Han Sans', sans-serif;
    min-height: 100vh;
    position: relative;
    overflow-y: auto;        /* ğŸ”¥ ìŠ¤í¬ë¡¤ í—ˆìš© */
}

/* ğŸ”¥ ì•ˆë‚´ë¬¸ ìœ„ì¹˜ ê³ ì • */
#inst {
    font-size: 13px;
    position: fixed;
    top: 14px;
    left: 50%;
    transform: translateX(-50%);
    color: #c0a33c;
    z-index: 999;
    white-space: nowrap;
}

/* ğŸ”¥ next ë²„íŠ¼ ê³ ì • */
#opening {
    position: fixed;
    bottom: 25px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(255, 210, 120, 0.28);
    padding: 10px 26px;
    border: 1px solid #c0a33c;
    border-radius: 12px;
    color: #ffeec0;
    font-size: 18px;
    text-decoration: none;
    text-shadow: 2px 3px 4px #162030;
    backdrop-filter: blur(3px);
    z-index: 999;
}

#opening:hover {
    background: rgba(255, 210, 120, 0.45);
}

/* ë ˆì´ì•„ì›ƒ */
.container-wrapper {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
}

.container-top,
.container-bottom {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    width: 95%;
    margin-bottom: 30px;
}

figure {
    display: inline-block;
    margin: 10px;
    position: relative;
}

/* ìº¡ì…˜ ìˆ¨ê¹€ ìœ ì§€ */
figcaption {
    display: none;
}

/* ======================= ìŠ¤í‹°ì»¤ ======================= */

/* ğŸ”¥ ìŠ¤í‹°ì»¤ í¬ê¸° ëª¨ë°”ì¼ ë°˜ì‘í˜• */
.sticker {
    position: relative;
    display: inline-block;
    cursor: pointer;
    user-select: none;

    width: 80vw;
    max-width: 240px;
    height: calc(80vw * 0.46);
    max-height: 110px;
}

.sticker .tape-img {
    position: absolute;
    inset: 0;
    background-image: var(--img-bill);
    background-size: cover;
    background-position: center;
    border-radius: var(--border-radius);
    transition: transform var(--peel-duration) ease, opacity var(--peel-duration) ease;
    z-index: 2;
}

.sticker:hover .tape-img {
    transform: translateY(-3px);
}

/* ë‚´ìš© */
.sticker .reveal {
    position: absolute;
    inset: 0;
    padding: 10px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    border-radius: var(--border-radius);
    color: #eee;
    opacity: 0;
    z-index: 0;
    pointer-events: none;
    transition: opacity var(--peel-duration) ease;
}

.sticker .reveal a {
    color: #ffcc00;
    text-decoration: none;
    margin: 2px 0;
}

/* ğŸ”¥ ì´ë¦„ ë” ë°ê²Œ ê°•ì¡° */
.sticker .reveal a:first-child {
    color: rgb(255, 240, 190);
    font-size: 1.1em;
    margin-bottom: 6px;
}

/* peeled ìƒíƒœ */
.sticker.peeled .tape-img {
    opacity: 0;
    transform: translateY(-15px) rotate(-4deg);
    pointer-events: none;
}

.sticker.peeled .reveal {
    opacity: 1;
    z-index: 3;
    pointer-events: auto;
}
</style>
</head>

<body>
    <div id="inst">í…Œì´í”„ë¥¼ í´ë¦­í•´ ì‘ê°€ì™€ ì‘í’ˆ ì„¤ëª… ì—¿ë³´ê¸°</div>
    <a id="opening" href="last.html">next</a>

    <div class="container-wrapper">
        <main class="container-top">
            <figure data-id="1">
                <div class="sticker sticker_peel">
                    <div class="tape-img"></div>
                    <div class="reveal">
                        <a href="https://www.jangwooyou.com/" target="_blank">ê¹€ê²½ì„œ</a>
                        <a href="caption.html">ê±°ë£©í•œ ê±°ë¶í•œ ëŒ€í™”</a>
                    </div>
                </div>
                <figcaption></figcaption>
            </figure>

            <figure data-id="2">
                <div class="sticker sticker_peel">
                    <div class="tape-img"></div>
                    <div class="reveal">
                        <a href="https://www.instagram.com/yu.hwa.k?igsh=azZsdWVwbjh5aGtq&utm_source=qr"
                            target="_blank">ê¹€ì§€ìˆ˜</a>
                        <a href="caption1.html">ì˜¤ë¦¬ì—”íƒˆë¦¬í‹° ë°ì´í„°</a>
                    </div>
                </div>
                <figcaption></figcaption>
            </figure>

            <figure data-id="3">
                <div class="sticker sticker_peel">
                    <div class="tape-img"></div>
                    <div class="reveal">
                        <a href="https://www.instagram.com/hyunjooartwork?igsh=emN5Z240MGkzdWs1&utm_source=qr"
                            target="_blank">ë°•í˜„ì£¼</a>
                        <a href="caption2.html">ë¶ˆì•ˆ ì¦ì§„ ìš”ë²•</a>
                    </div>
                </div>
                <figcaption></figcaption>
            </figure>

            <figure data-id="4">
                <div class="sticker sticker_peel">
                    <div class="tape-img"></div>
                    <div class="reveal">
                        <a href="daeun.html" target="_blank">ì•ˆë‹¤ì€</a>
                        <a href="caption3.html">ë§‰ì€ í‹ˆì—ì„œ</a>
                    </div>
                </div>
                <figcaption></figcaption>
            </figure>

            <figure data-id="5">
                <div class="sticker sticker_peel">
                    <div class="tape-img"></div>
                    <div class="reveal">
                        <a href="https://www.instagram.com/lhe_archive?igsh=c2podndqbXZiZTY%3D&utm_source=qr"
                            target="_blank">ìœ¤ì§€ì—°</a>
                        <a href="caption4.html">1-5-1</a>
                    </div>
                </div>
                <figcaption></figcaption>
            </figure>
        </main>

        <main class="container-bottom">
            <figure data-id="6">
                <div class="sticker sticker_peel">
                    <div class="tape-img"></div>
                    <div class="reveal">
                        <a href="https://surrealvir.myportfolio.com/" target="_blank">ì´ê²½ë¯¼</a>
                        <a href="caption5.html">ë¶ˆì•ˆ íŒíƒ€ì§€</a>
                    </div>
                </div>
                <figcaption></figcaption>
            </figure>

            <figure data-id="7">
                <div class="sticker sticker_peel">
                    <div class="tape-img"></div>
                    <div class="reveal">
                        <a href="somin.html" target="_blank">ì´ì†Œë¯¼</a>
                        <a href="caption6.html">ì˜ì ì € ì£¼ì„¸ìš”</a>
                    </div>
                </div>
                <figcaption></figcaption>
            </figure>

            <figure data-id="8">
                <div class="sticker sticker_peel">
                    <div class="tape-img"></div>
                    <div class="reveal">
                        <a href="chaeyoung.html" target="_blank">ì´ì±„ì˜</a>
                        <a href="caption7.html">ì¸ê°„íƒˆë½</a>
                    </div>
                </div>
                <figcaption></figcaption>
            </figure>

            <figure data-id="9">
                <div class="sticker sticker_peel">
                    <div class="tape-img"></div>
                    <div class="reveal">
                        <a href="jo.html" target="_blank">ì¡°ì€ì„œ</a>
                        <a href="caption8.html">í†µì œë¶ˆê°€ì˜ì—­</a>
                    </div>
                </div>
                <figcaption></figcaption>
            </figure>
        </main>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const stickers = document.querySelectorAll(".sticker_peel");
            const PEELED_KEY = "peeled_stickers";

            function getPeeledIds() {
                const data = sessionStorage.getItem(PEELED_KEY);
                return data ? JSON.parse(data) : [];
            }

            function savePeeledId(id) {
                const ids = getPeeledIds();
                if (!ids.includes(id)) {
                    ids.push(id);
                    sessionStorage.setItem(PEELED_KEY, JSON.stringify(ids));
                }
            }

            function applyPeeled() {
                const ids = getPeeledIds();
                stickers.forEach(sticker => {
                    const id = sticker.closest("figure").dataset.id;
                    if (ids.includes(id)) {
                        sticker.classList.add("peeled");
                    } else {
                        sticker.classList.remove("peeled");
                    }
                });
            }

            // ìƒˆë¡œê³ ì¹¨ ì‹œ ì´ˆê¸°í™” (ì›í•˜ë©´ ì´ ë¶€ë¶„ ì œê±°í•´ë„ ë¨)
            try {
                const nav = performance.getEntriesByType("navigation")[0];
                if (nav && nav.type === "reload") sessionStorage.removeItem(PEELED_KEY);
            } catch (e) {
                if (performance.navigation.type === 1) sessionStorage.removeItem(PEELED_KEY);
            }

            applyPeeled();
            window.addEventListener("pageshow", applyPeeled);

            // í´ë¦­ ì‹œ: ì²˜ìŒì—ëŠ” í…Œì´í”„ë§Œ ë²—ê¸°ê³ , ì´ë¯¸ peeledë©´ ë§í¬ëŠ” ê¸°ë³¸ ë™ì‘
            stickers.forEach(sticker => {
                sticker.addEventListener("click", (e) => {
                    const id = sticker.closest("figure").dataset.id;
                    const isPeeled = sticker.classList.contains("peeled");

                    if (!isPeeled) {
                        e.preventDefault();
                        e.stopPropagation();
                        sticker.classList.add("peeled");
                        savePeeledId(id);
                    }
                    // peeled ìƒíƒœì—ì„œëŠ” ê·¸ëƒ¥ í†µê³¼ â†’ ì•ˆì— ìˆëŠ” ë§í¬ í´ë¦­ ê°€ëŠ¥
                });
            });
        });
    </script>
</body>

</html>     