<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>랜덤 출력</title>
    <style>
        body {
            background: #06152f;
            color: #f1bd00;
            text-align: center;
            padding: 30px;
            font-family: 'Black Han Sans', sans-serif;
        }

        .item {
            margin: 20px auto;
            padding: 15px;
            border-radius: 12px;
            max-width: 700px;
            font-size: 22px;
            background: rgba(255, 255, 255, 0.05);
        }
    </style>
</head>

<body>
    <h1>당신의 테이프 뒤에는...</h1>
    <div id="list"></div>

    <script src="firebase.js" type="module"></script>

    <script type="module">
        import { ref, get } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-database.js";

        const db = window._db;

        async function loadRandom() {
            const snap = await get(ref(db, "answers"));
            const list = document.getElementById("list");

            if (!snap.exists()) {
                list.innerHTML = "<p>아직 아무도 기록하지 않았습니다.</p>";
                return;
            }

            const arr = Object.values(snap.val());

            // 랜덤 섞기
            arr.sort(() => Math.random() - 0.5);

            // 10개만 출력
            const selected = arr.slice(0, 10);

            selected.forEach(t => {
                const div = document.createElement("div");
                div.className = "item";
                div.textContent = t;
                list.appendChild(div);
            });
        }

        loadRandom();
    </script>
</body>

</html>